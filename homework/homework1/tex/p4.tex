\problem{}
Suppose there are $n$ values in an array, and we want to sort the array using ``flipping" operations.  A flip takes two inputs $i$ and $j$, with $1 \leq i \leq j \leq n$, and reverses the order of the values between indices $i$ and $j$ in the array.  For example, if the array is $[1,1,5,3,4]$, then a flip with indices 2 and 5 changes the array to $[1,4,3,5,1]$.  Assume a flip with inputs $i$ and $j$ has cost $j-i$.  

\hspace*{\fill}

\noindent (a) Assume first that all the values in the array are either 1 or 2.  Design an algorithm which sorts the array using $O(n \log n)$ cost, and analyze its cost.  \\
(Hint: mergesort)

\hspace*{\fill}

\noindent (b) Now suppose the array contains arbitrary values.   Design an algorithm which has $O(n \log^2 n)$ expected cost, and analyze its cost.  Note that your algorithm is allowed to make randomized choices. \\
(Hint: quicksort, and the previous algorithm)












\newpage